<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1253">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.2  (Win32)">
	<META NAME="CREATED" CONTENT="16010101;0">
	<META NAME="CHANGED" CONTENT="16010101;0">
    <link href="template_css.css" rel="stylesheet" type="text/css">
</HEAD>
<BODY>
The library and the test program
are compiled and tested with C++Builder 6 and Visual Studio 2003 and
2005. It is only compiled with CodeBlocks using MinGW on windows and
GCC on Linux.<br /><br />
The &ldquo;Prj&rdquo; directory contains all the projects and project groups / solutions /
workspaces (PSW) whatever every development environment calls it.<br />
<UL><LI>&ldquo;bcb6&rdquo; for Borland C++ 6.</LI>
	<LI>&ldquo;cbl&rdquo; for CodeBlocks on Linux.</LI>
	<LI>&ldquo;cbw&rdquo; for CodeBlocks on Windows.</LI>
	<LI>&ldquo;vs2003&rdquo; for Visual Studio 2003</LI>
	<LI>&ldquo;vs2005&rdquo; for Visual Studio 2005</LI>
</UL>
Every PSW contains
three projects. The library, the ODBC back-end and a test program.<BR />
<P>Additionally, smds
depends on the following libraries</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm"><A CLASS="western" HREF="http://www.boost.org/"><FONT COLOR="#000080"><U>boost</U></FONT></A></P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm"><A CLASS="western" HREF="http://www.sourceforge.net/projects/loki-lib"><FONT COLOR="#000080"><U>Loki</U></FONT></A></P>
</UL>
<P>You can eliminate the
dependency on Loki if you wish. See below <A CLASS="western" HREF="#0.0.0.0.0.3.Controlling compilation.|outline"><FONT COLOR="#000080"><U>controlling
compilation</U></FONT></A>.</P>
<P>On Linux you will
probably need to install an ODBC library. <A CLASS="western" HREF="http://www.unixodbc.org/"><FONT COLOR="#000080"><U>unixODBC</U></FONT></A>
(currently the Linux compilation is tested with it and it seems that
it is more widely available on Linux distributions) or <A CLASS="western" HREF="http://www.iodbc.org/"><FONT COLOR="#000080"><U>iODBC</U></FONT></A>.
Don't forget to install the development library packages.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P><B>Compiling
with C++Builder 6.</B></P>
<P>In Tool/Environment
Options/Environment Variables create a new variable named BOOST_INC
that points to the directory the boost library is installed.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Build all the projects.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 10pt"><B>Compiling
with Visual Studio 2003</B></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Open the solution. You
will need to change the directories that point to boost and loki
libraries.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Build all the projects.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">You must first make the
Loki library or directly use the relevant source files in the
projects.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 10pt"><B>Compiling
with Visual Studio 2005</B></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Open the project
property sheets &ldquo;Rel.vsprops&rdquo; and &ldquo;Dbg.vsprops&rdquo;.
In there, point the BOOST_INC and LOKI_INC macros to the boost and
loki installation directories respectively (this can be done also
from inside the IDE, opening the &ldquo;Property Manager&rdquo; and
changing the properties in the Rel and Dbg property sheets). Build
all the projects.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">You must first make the
Loki library or directly use the relevant source files in the
projects.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-top: 0.42cm; page-break-after: avoid"><FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 10pt"><B>Compiling
with GCC (CodeBlocks &ndash; Windows and Linux)</B></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Create an environment
variable, in the CodeBlocks IDE, named BOOST_INC that points to the
directory the boost library is installed. Load the CodeBlocks
workspace and compile all projects contained in it.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">You must have MinGW
installed on windows.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-top: 0.42cm; page-break-after: avoid"><A NAME="0.0.0.0.0.3.Controlling compilation.|outline"></A>
<FONT FACE="Arial, sans-serif"><FONT SIZE=2 STYLE="font-size: 10pt"><B>Controlling
compilation.</B></FONT></FONT></P>
<P CLASS="western" STYLE="margin-bottom: 0cm">The compilation of the
library can be changed from a couple of defines. All of them are in
&ldquo;Src/dsConfig.h&rdquo;.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_DEFAULT_SHARED_PTR</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_USE_BOOST_SMART_PTR</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_USE_LOKI_SHARED_PTR</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_USE_SMALL_SHARED_PTR</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">The dependency on the
Loki library can be changed or eliminated with these. To do so,
comment  SM_DS_DEFAULT_SHARED_PTR and uncomment one of the three
below it.</P>
<UL>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_DEFAULT_SHARED_PTR
	is the ... default. This will select an appropriate smart pointer
	depending on the compiler used.</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm">Defining
	SM_DS_USE_BOOST_SMART_PTR selects boost::shared_ptr&lt;&gt;</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm">Defining
	SM_DS_USE_LOKI_SHARED_PTR selects Loki::SmartPtr&lt;&gt;</P>
	<LI><P CLASS="western" STYLE="margin-bottom: 0cm">Defining
	SM_DS_USE_SMALL_SHARED_PTR selects boost::shared_in_ptr&lt;&gt;. The
	source code for this smart pointer (not distributed as part of the
	main boost library) is already included in the project.</P>
</UL>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_NULL_VALUE_EXCEPTION</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Controls the behaviour
of the library when reading a NULL field value via a typed iterator.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">When defined (default)
it throws eNullFieldValue exception. If not defined it returns the
&ldquo;default&rdquo; value of the field type (for integral types
zero, for strings an empty string etc.).</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_ENABLE_NOTIFY</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">When defined (the
default) the code responsible for notifications between tables and
indexes is included. You can exclude this code all together to get a
performance boost by undefining this symbol.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">SM_DS_FAST_ITERATORS</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">Undefined by default.
If defined iterators are a bit faster, but also a bit less safe.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">BOOST_SP_DISABLE_THREADS</P>
<P CLASS="western" STYLE="margin-bottom: 0cm">The library by default
has no multithreading support, so it also disables the
boost::smart_ptr&lt;&gt; multithreading support. In case it is
needed, an additional step that must be taken, beyond the IDE setting
changes (using multithreaded runtime libraries for example), is to
comment BOOST_SP_DISABLE_THREADS.</P>
<P CLASS="western" STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>