<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
	<META HTTP-EQUIV="CONTENT-TYPE" CONTENT="text/html; charset=windows-1253">
	<TITLE></TITLE>
	<META NAME="GENERATOR" CONTENT="OpenOffice.org 2.2  (Win32)">
	<META NAME="CREATED" CONTENT="16010101;0">
	<META NAME="CHANGED" CONTENT="16010101;0">
	<STYLE TYPE="text/css">
	<!--
		@page { size: 21cm 29.7cm; margin: 2cm }
		P { margin-bottom: 0.21cm }
		H6 { margin-bottom: 0.21cm }
		H6.western { font-family: "Arial", sans-serif; font-size: 10pt }
		H6.cjk { font-size: 10pt }
		H6.ctl { font-size: 10pt }
	-->
	</STYLE>
</HEAD>
<BODY LANG="en-GB" DIR="LTR">
<P STYLE="margin-bottom: 0cm">The library and the test program are
compiled and tested with C++Builder 6 and Visual Studio 2005.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">The source bundle contains the
following projects:</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">smDSb6lib.bpr. BCB6. The main
	(static) library.</P>
	<LI><P STYLE="margin-bottom: 0cm">smDSb6libTest. BCB6 test program.</P>
	<LI><P STYLE="margin-bottom: 0cm">smds_gcc. CodeBlocks. The main
	(static) library.</P>
	<LI><P STYLE="margin-bottom: 0cm">smds_gexe. CodeBlocks test
	program.</P>
	<LI><P STYLE="margin-bottom: 0cm">smDSv8lib.vcproj. VS 2005. The
	main (static) library.</P>
	<LI><P STYLE="margin-bottom: 0cm">smDS_v8exe.vcproj. VS 2005 test
	program.</P>
	<LI><P STYLE="margin-bottom: 0cm">smDS_BDEConn_b6.bpr. BCB6 back-end
	dll. Uses the VCL BDE components so you must have BDE installed for
	this to work.</P>
	<LI><P STYLE="margin-bottom: 0cm">smDS_ADOConn_b6.bpr. BCB6 back-end
	dll. Uses the VCL ADO components. You probably have ADO installed
	already (if working on Windows).</P>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">Additionally, smds depends on the
following libraries</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="http://www.boost.org/"></A><A HREF="http://www.boost.org/"></A><A HREF="http://www.boost.org/">boost</A><A HREF="http://www.boost.org/"></A><A HREF="http://www.boost.org/"></A>.
	Prefer to use the 1.33.1 version as it is tested with it.</P>
	<LI><P STYLE="margin-bottom: 0cm"><A HREF="http://www.sourceforge.net/projects/loki-lib"></A><A HREF="http://www.sourceforge.net/projects/loki-lib"></A><A HREF="http://www.sourceforge.net/projects/loki-lib">Loki</A><A HREF="http://www.sourceforge.net/projects/loki-lib"></A><A HREF="http://www.sourceforge.net/projects/loki-lib"></A>.
	Again prefer an older version, namely Loki_0.0.3.</P>
</UL>
<P STYLE="margin-bottom: 0cm">or alternatively you can use either one
or none. See below <A HREF="#0.0.0.0.0.3.Controlling compilation.|outline"></A><A HREF="#0.0.0.0.0.3.Controlling compilation.|outline"></A><A HREF="#0.0.0.0.0.3.Controlling compilation.|outline">controlling
compilation</A><A HREF="#0.0.0.0.0.3.Controlling compilation.|outline"></A><A HREF="#0.0.0.0.0.3.Controlling compilation.|outline"></A>.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<H6 CLASS="western">Compiling with C++Builder 6.</H6>
<P STYLE="margin-bottom: 0cm">In Tool/Environment Options/Environment
Variables create a new variable named BOOST_INC that points to the
directory the boost library is installed.</P>
<P STYLE="margin-bottom: 0cm">Build the projects &ldquo;smDSb6lib&rdquo;
and &ldquo;smDSb6libTest&rdquo; and optionally &ldquo;smDS_ADOConn_b6&rdquo;
and &ldquo;smDS_BDEConn_b6&rdquo;. You can download pre built
binaries for the last two if you wish.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<H6 CLASS="western">Compiling with Visual Studio 2005</H6>
<P STYLE="margin-bottom: 0cm">Open the project property sheets
&ldquo;Rel.vsprops&rdquo; and &ldquo;Dbg.vsprops&rdquo;. In there,
point the BOOST_INC macro to the boost installation directory (this
can be done also from inside the IDE, opening the &ldquo;Property
Manager&rdquo; and changing the properties in the Rel and Dbg
property sheets). Then compile both projects &ldquo;smDSv8lib&rdquo;
and &ldquo;smDS_v8exe&rdquo;. You need to download the pre built
binaries for &ldquo;smDS_ADOConn_b6&rdquo; and &ldquo;smDS_BDEConn_b6&rdquo;
as they can not be compiled with VS. You must also make the Loki
library or directly use the relevant source files in the projects.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<H6 CLASS="western">Compiling with GCC (CodeBlocks)</H6>
<P STYLE="margin-bottom: 0cm">Create an environment variable, in the
CodeBlocks IDE, named BOOST_INC that points to the directory the
boost library is installed. Load the CodeBlocks workspace and compile
both projects contained in it.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm"><B>NOTE</B>: Unfortunately there is no
back end module for Linux yet.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<H6 CLASS="western"><A NAME="0.0.0.0.0.3.Controlling compilation.|outline"></A><A NAME="0.0.0.0.0.3.Controlling compilation.|outline"></A><A NAME="0.0.0.0.0.3.Controlling compilation.|outline"></A>
Controlling compilation.</H6>
<P STYLE="margin-bottom: 0cm">The compilation of the library can be
changed from a couple of defines. All of them are in
&ldquo;Src/dsConfig.h&rdquo;.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">SM_DS_DEFAULT_SHARED_PTR</P>
<P STYLE="margin-bottom: 0cm">SM_DS_USE_BOOST_SMART_PTR</P>
<P STYLE="margin-bottom: 0cm">SM_DS_USE_LOKI_SHARED_PTR</P>
<P STYLE="margin-bottom: 0cm">SM_DS_USE_SMALL_SHARED_PTR</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">The dependency on the boost and Loki
libraries can be changed or eliminated with these. To do so, comment 
SM_DS_DEFAULT_SHARED_PTR and uncomment one of the three below it.</P>
<UL>
	<LI><P STYLE="margin-bottom: 0cm">Defining SM_DS_USE_BOOST_SMART_PTR
	selects boost::shared_ptr&lt;&gt;</P>
	<LI><P STYLE="margin-bottom: 0cm">Defining SM_DS_USE_LOKI_SHARED_PTR
	selects Loki::SmartPtr&lt;&gt;</P>
	<LI><P STYLE="margin-bottom: 0cm">Defining
	SM_DS_USE_SMALL_SHARED_PTR selects boost::shared_in_ptr&lt;&gt;. The
	source code for this smart pointer (not distributed as part of the
	main boost library) is already included in the project.</P>
</UL>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">SM_DS_NULL_VALUE_EXCEPTION</P>
<P STYLE="margin-bottom: 0cm">Controls the behaviour of the library
when reading a NULL field value via a typed iterator.</P>
<P STYLE="margin-bottom: 0cm">When defined (default) it throws
eNullFieldValue exception. If not defined it returns the &ldquo;default&rdquo;
value of the field type (for integral types zero, for strings an
empty string etc.).</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">SM_DS_STRING_AS_STRING</P>
<P STYLE="margin-bottom: 0cm">Controls how the string fields are held
internally by the library. When defined (default) string fields are
held internally as ds_string. This gives a small performance boost
but is not standard C++. When undefined, string fields are held
internally as char[].</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">SM_DS_ENABLE_NOTIFY</P>
<P STYLE="margin-bottom: 0cm">When defined (the default)
notifications between tables and indexes are enabled. You can disable
notifications, if you don't need them, undefining this symbol, to get
a performance boost.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">SM_DS_FAST_ITERATORS</P>
<P STYLE="margin-bottom: 0cm">Undefined by default. If defined
iterators are a bit faster, but also a bit less safe.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
<P STYLE="margin-bottom: 0cm">The library by default has no
multithreading support, so it also disables the boost::smart_ptr&lt;&gt;
multithreading support. In case it is needed, an additional step that
must be taken, beyond the IDE setting changes (using multithreaded
runtime libraries), is to comment BOOST_SP_DISABLE_THREADS in
&ldquo;dsConfig.h&rdquo;.</P>
<P STYLE="margin-bottom: 0cm"><BR>
</P>
</BODY>
</HTML>